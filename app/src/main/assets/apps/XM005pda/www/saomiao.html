<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>PDA扫一扫</title>
<link rel="stylesheet" href="css/mui.min.css" />
<link rel="stylesheet" href="fonts/iconfont.css" />
<script src="js/mui.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">mui.init();</script>
<style>
	#top{margin-top: 20px;
    font-size: 18px;
    text-align: center;
    line-height: 12mm;
    padding: 0 4mm;}
</style>
</head>
<body>
	  <div class="mui-content">
			<p id="top">对准条码或二维码，按设备上扫描键</p>
			<p id="info" style="margin-top:20px;padding: 0 10px; text-align: center;"></p>
  </div>
  <script src="js/mtool.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/pdaScan.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
  	var _ifo = mui('#info')[0];
  	beginScan({type:'tTwWcClsp-[',callFn:function(key,obj){
  		_ifo.innerText = (key.partNo||key) ;
  		var info = obj.typeInf ;
		switch (obj.type){
			case '['://
				mui.alert('零件号：'+key.partNo+'\n标签号：'+key.mappingTag+'\n数量：【'+key.number+'】','请确定零件号和数量是否正确','确认',function (e){});
					break;
				case 't'://停机报警报表
					mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.ALLSTOP =key ; 
					    M.goT('./stop/alarmRecordReport.html','【'+key+'】报警报表');
					}
				});
					break;
				case 'T'://停机汇总报表
					mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.STOPREPORTFORM =key; 
						M.goT('./stop/stopReportForm.html','【'+key+'】停机汇总报表');
						}
					});
					break;
				case 'w'://物料配送时间统计报表
				mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.REPORTFORM =key ; 
						 M.goT('./pull/reportFormInfo.html','线旁剩余物料统计报表');
						}
					});
					break;
				case 'W'://线边剩余物料报表编号
				mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.LINESIDENUMBER =key ; 
						M.goT('./pull/doAllNumber.html','线旁剩余物料统计报表');
						}
					});
					break;
				case 'c'://产量月报
				mui.confirm('统计报表还是差异报表','扫描来源【'+obj.typeInf+'】你想查看',['统计报表','差异报表'],function (e) {
						if(e.index){//查看差异报表
							LL.REPORTHTML2=key; 
							M.goT('./production/reportMonth2.html','【'+key+'】差异报表');
						}else{//查看统计报表
							LL.REPORTHTML2=key; 
							M.goT('./production/reportMonth.html','【'+key+'】统计报表');
						}
					});
					break;
				case 'C'://产量日报
				mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.reportDayListhtml=key ;
						M.goT('./production/reportDay.html','【'+key+'】');
						}
					});
					break;	
				case 'p'://人员二维码：
				mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.userqrcode=key ;
						M.go('./production/userinfo.html','【'+key+'】');
						}
					});
					break;
				case 'l'://灯二维码
				mui.toast('灯二维码')
				break ;
				case 's'://工位二维码
				mui.toast('工位二维码')
//				mui.alert('message','扫描来源工位二维码','确定',function (e) {
//				   e.index
//				})
				break ;
				case '-'://如果扫描到的是TPM点检表。
				mui.confirm('是否查看'+key,'扫描来源【'+obj.typeInf+'】',['确认','取消'],function (e) {
					if(!e.index){
						LL.TPMCHECKNOTPMLISTHTML=key ;
						M.goT('./quality/TPMinfo.html',key+'-点检详情');
						}
					});
				break ; 
			}
			M.toast('扫描成功！扫描到的值为==》'+(key.partNo||key)) ;
  	}});
  </script>
</body>
</html>